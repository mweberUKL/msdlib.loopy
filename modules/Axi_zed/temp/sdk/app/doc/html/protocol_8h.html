<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>HOPP Virtex 6 ML 605 Board Driver: src/medium/protocol/protocol.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">HOPP Virtex 6 ML 605 Board Driver
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_faedfad5e5ed042c01f04320724ca7b1.html">medium</a></li><li class="navelem"><a class="el" href="dir_bf22e46e5983b57fda211103279a0f82.html">protocol</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">protocol.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Protocol encoder and decoder.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="constants_8h_source.html">../../constants.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="message_8h_source.html">../message.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="protocol__v1_8h_source.html">protocol_v1.h</a>&quot;</code><br/>
</div>
<p><a href="protocol_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac9003344c26436ca969c471d05654673"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8h.html#ac9003344c26436ca969c471d05654673">decode_header</a> (int first)</td></tr>
<tr class="memdesc:ac9003344c26436ca969c471d05654673"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delegates calls to the respective protocol decoder for the protocol version the message was sent with.  <a href="#ac9003344c26436ca969c471d05654673"></a><br/></td></tr>
<tr class="separator:ac9003344c26436ca969c471d05654673"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fa95c84f496c2887979babae0757312"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structMessage.html">Message</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8h.html#a1fa95c84f496c2887979babae0757312">encode_ack</a> (unsigned char pid, unsigned int count)</td></tr>
<tr class="memdesc:a1fa95c84f496c2887979babae0757312"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delegates calls to the respective protocol encoder for the protocol version the acknowledgment should be encoded with.  <a href="#a1fa95c84f496c2887979babae0757312"></a><br/></td></tr>
<tr class="separator:a1fa95c84f496c2887979babae0757312"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cdbef609d9e1081785db1fe4a54511f"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structMessage.html">Message</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8h.html#a6cdbef609d9e1081785db1fe4a54511f">encode_poll</a> (unsigned char pid)</td></tr>
<tr class="memdesc:a6cdbef609d9e1081785db1fe4a54511f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delegates calls to the respective protocol encoder for the protocol version the poll should be encoded with.  <a href="#a6cdbef609d9e1081785db1fe4a54511f"></a><br/></td></tr>
<tr class="separator:a6cdbef609d9e1081785db1fe4a54511f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d495b6e06db4018bdfd6d305bce209b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structMessage.html">Message</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8h.html#a3d495b6e06db4018bdfd6d305bce209b">encode_gpio</a> (unsigned char gid, unsigned char val)</td></tr>
<tr class="memdesc:a3d495b6e06db4018bdfd6d305bce209b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delegates calls to the respective protocol encoder for the protocol version the gpio data message should be encoded with.  <a href="#a3d495b6e06db4018bdfd6d305bce209b"></a><br/></td></tr>
<tr class="separator:a3d495b6e06db4018bdfd6d305bce209b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaa4541675bb839827ae390b4df873c5"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structMessage.html">Message</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8h.html#adaa4541675bb839827ae390b4df873c5">encode_debug</a> (unsigned char type, unsigned int size)</td></tr>
<tr class="memdesc:adaa4541675bb839827ae390b4df873c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delegates calls to the respective protocol encode for the protocol version the debug message should be encoded with.  <a href="#adaa4541675bb839827ae390b4df873c5"></a><br/></td></tr>
<tr class="separator:adaa4541675bb839827ae390b4df873c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4e980afaa870ce41186e63317663e40"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structMessage.html">Message</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8h.html#af4e980afaa870ce41186e63317663e40">encode_data</a> (unsigned char pid, unsigned int size)</td></tr>
<tr class="memdesc:af4e980afaa870ce41186e63317663e40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delegates calls to the respective protocol encoder for the protocol version the data message should be encoded with.  <a href="#af4e980afaa870ce41186e63317663e40"></a><br/></td></tr>
<tr class="separator:af4e980afaa870ce41186e63317663e40"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Protocol encoder and decoder. </p>
<p>Delegates calls to the respective protocol decoder for the protocol version the message was sent with. The protocol version is always stored in the same field of the header. Calls to encoder procedures are delegated to an encoder of the protocol version stored in the constants file (which has been specified by the user).</p>
<dl class="section author"><dt>Author</dt><dd>Thomas Fischer </dd></dl>
<dl class="section since"><dt>Since</dt><dd>01.02.2013 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ac9003344c26436ca969c471d05654673"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int decode_header </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>first</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delegates calls to the respective protocol decoder for the protocol version the message was sent with. </p>
<p>The protocol version is always stored in the same field of the header. This method will issue further reads on the medium, depending on the message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">first</td><td>The first integer of the message (which HAS to be part of the header). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if decoding was successful, 1 otherwise.</dd></dl>
<p>Delegates calls to the respective protocol decoder for the protocol version the message was sent with.</p>
<p>Reads parts of the message from the medium using recv_int(). </p>

</div>
</div>
<a class="anchor" id="a1fa95c84f496c2887979babae0757312"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structMessage.html">Message</a>* encode_ack </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delegates calls to the respective protocol encoder for the protocol version the acknowledgment should be encoded with. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>Id of the port, which acknowledges data. </td></tr>
    <tr><td class="paramname">count</td><td>Number of (integer) values, that are acknowledged. Has to be below protocol_max_size! </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to an empty message with the generated header. </dd></dl>

</div>
</div>
<a class="anchor" id="af4e980afaa870ce41186e63317663e40"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structMessage.html">Message</a>* encode_data </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delegates calls to the respective protocol encoder for the protocol version the data message should be encoded with. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>Id of the port, from which the message is originated. </td></tr>
    <tr><td class="paramname">size</td><td>Size of the message in 4-byte blocks (i.e. count of integer values). Has to be below protocol_max_size! </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to an empty message with the generated header. </dd></dl>

</div>
</div>
<a class="anchor" id="adaa4541675bb839827ae390b4df873c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structMessage.html">Message</a>* encode_debug </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delegates calls to the respective protocol encode for the protocol version the debug message should be encoded with. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Debug type of the message. </td></tr>
    <tr><td class="paramname">size</td><td>Size of the debug message. Has to be below protocol_max_size! </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to an empty message with the generated header. </dd></dl>

</div>
</div>
<a class="anchor" id="a3d495b6e06db4018bdfd6d305bce209b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structMessage.html">Message</a>* encode_gpio </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>gid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delegates calls to the respective protocol encoder for the protocol version the gpio data message should be encoded with. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gid</td><td>Id of the gpio component. </td></tr>
    <tr><td class="paramname">val</td><td>The new state of the gpio component. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to an empty message with the generated header. </dd></dl>

</div>
</div>
<a class="anchor" id="a6cdbef609d9e1081785db1fe4a54511f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structMessage.html">Message</a>* encode_poll </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>pid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delegates calls to the respective protocol encoder for the protocol version the poll should be encoded with. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>Id of the port, which is polled. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to an empty message with the generated header. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Mar 15 2014 21:46:58 for HOPP Virtex 6 ML 605 Board Driver by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
